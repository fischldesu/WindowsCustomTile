<?xml version="1.0" encoding="utf-8"?>

<UserControl
  x:Class="WCT_WinUI3.Components.ImagePathInput"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="using:WCT_WinUI3.Components"
  xmlns:i18n="using:WCT_WinUI3.Utility.I18N"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d">

  <Grid AllowDrop="True" Drop="Grid_Drop" DragOver="Grid_DragOver">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="auto" />
      <ColumnDefinition Width="auto" />
    </Grid.ColumnDefinitions>
    <TextBox Height="34" Grid.Column="0" x:Name="input" CornerRadius="4 0 0 4" Canvas.ZIndex="1"
             TextChanged="input_TextChanged" />
    <Border Height="34" Grid.Column="1" BorderThickness="0 1" BorderBrush="#1c101010" Background="#ea0a21">
      <TextBlock x:Name="hintText" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="8 0"
                 Foreground="White" Canvas.ZIndex="2" Text="{x:Bind i18n:Lang.Text('Dialog_InvalidUri')}"
                 Visibility="Collapsed" />
    </Border>
    <Button Height="34" Grid.Column="2" HorizontalAlignment="Left" CornerRadius="0 4 4 0" Margin="-1 0 0 0">
      <FontIcon Glyph="&#xE712;" />
      <Button.Flyout>
        <MenuFlyout>
          <MenuFlyoutItem Click="PickImageFile_Click" Text="{x:Bind i18n:Lang.Text('Page_Home_ImageTile_ImageFile')}"
                          Icon="BrowsePhotos" />
          <MenuFlyoutItem Click="CheckPathValid_Click" Text="{x:Bind i18n:Lang.Text('Button_Check')}" Icon="Import" />
          <MenuFlyoutItem Click="Remove_Click" Text="{x:Bind i18n:Lang.Text('Button_Remove')}" Icon="Delete">
            <MenuFlyoutItem.KeyboardAccelerators>
              <KeyboardAccelerator Key="Delete" />
            </MenuFlyoutItem.KeyboardAccelerators>
          </MenuFlyoutItem>
        </MenuFlyout>
      </Button.Flyout>
    </Button>
  </Grid>
</UserControl>